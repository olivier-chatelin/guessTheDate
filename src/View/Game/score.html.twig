{% extends 'layout.html.twig' %}
{% block title %}
    {{ parent() }} - Score
{% endblock %}
{% block content %}
    <div class="container main-content mt-5" >
        <div>
            <div class="row h-100 border-bottom border-dark align-items-end">
                <div class="col-4 d-flex flex-column justify-content-end align-items-center  text-primary h-100">
                    {% if scores|length > 1 %}
                        {% if scores[1].avatar_id is null %}
                                <i class="fas fa-user-circle anon-podium" ></i>
                        {% else %}
                        <img src="/assets/images/avatar{{ scores[1].avatar_id }}.png" alt="{{ scores[1].avatar_id }}" class="img-fluid w-50">
                        {% endif %}
                        <a href="/player/show/{{ scores[1].pseudo }}">{{ scores[1].pseudo }}</a>
                        <p>{{ scores[1].best_score}}  </p>
                    {% endif %}
                    <div class="bg-primary w-100 mx-0 text-center rounded-top" style="height: 80px"><span class="display-4 text-secondary">2</span></div>
                </div>
                <div class="col-4 d-flex flex-column justify-content-end align-items-center text-primary h-100">
                    {% if scores|length > 0 %}
                        {% if scores[0].avatar_id is null %}
                            <i class="fas fa-user-circle anon-podium"></i>
                        {% else %}
                            <img src="/assets/images/avatar{{ scores[0].avatar_id }}.png" alt="{{ scores[0].avatar_id }}" class="img-fluid w-50">
                        {% endif %}
                        <p><a href="/player/show/{{ scores[0].pseudo }}">{{ scores[0].pseudo }}</a></p>
                        <p>{{ scores[0].best_score}}  </p>
                    {% else %}
                        <p>Soyez le premier Ã  jouer</p>
                    {% endif %}
                    <div class="bg-primary w-100 mx-0 text-center rounded-top" style="height: 100px"><span class="display-4 text-secondary">1</span></div>
                </div>
                <div class="col-4 d-flex flex-column justify-content-end align-items-center text-primary h-100">
                    {% if scores|length > 2 %}
                        {% if scores[2].avatar_id is null %}
                            <i class="fas fa-user-circle anon-podium"></i>
                        {% else %}
                            <img src="/assets/images/avatar{{ scores[2].avatar_id }}.png" alt="{{ scores[2].avatar_id }}" class="img-fluid w-50">
                        {% endif %}
                        <a href="/player/show/{{ scores[2].pseudo }}">{{ scores[2].pseudo }}</a>
                        <p>{{ scores[2].best_score}}</p>
                    {% endif %}
                    <div class="bg-primary w-100 mx-0 text-center rounded-top" style="height: 60px"><span class="display-4 text-secondary ">3</span></div>
                </div>
            </div>
        </div>
        <div class="container col-sm-8 col-md-6" >
            <form action="" method="POST">
                <div class="input-group">
                    <select name = "idDepartmentSelected" class="custom-select w-50" id="inputGroupSelect04" aria-label="Example select with button addon">
                        {% for department in  departments|slice(0,12) %}
                            {% set selected = ''%}
                            {% if department.dept_nb ==  deptNb %}
                                {{ department.dept_nb }} = {{ deptNb }}
                                {% set selected = 'selected'%}
                            {% endif %}
                            <option {{ selected }} value={{ department.dept_nb }}>{{ department.title }}</option>
                        {% endfor %}
                    </select>
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="submit">ok</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="w-100 d-flex justify-content-center align-items-center">
            <table class="table w-25 table-sm mt-5 table-secondary">
                <tbody>
                {% for score in scores|slice(3,50) %}
                    <tr>
                        <th scope="row">{{ loop.index +3 }}</th>
                        <td>
                            {% if score.avatar_id is  null %}
                            <i class="fas fa-user-circle" style="font-size: 30px"></i>
                            {% else %}
                            <img src="/assets/images/avatar{{ score.avatar_id }}.png" width="30px">
                            {% endif %}
                        </td>
                        <td><a href="/player/show/{{ score.pseudo }}">{{ score.pseudo }}</a></td>
                        <td>{{ score.best_score }}</td>
                    </tr>

                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
{% block javascript %}
{{ parent() }}
<script src="/assets/scripts/score.js"></script>
{% endblock %}